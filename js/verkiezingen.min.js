var main,faculteiten,toLoad=1,loaded=0,toparse=1,parsed=0,loadingStatus="Waiting for files to download.",mainCheck=!1;loadMain("verkiezingen.json");
function loadMain(a){var b;b=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");b.onreadystatechange=function(){if(4===b.readyState&&200===b.status){loaded++;updateLoader();try{main=JSON.parse(b.responseText),mainCheck=!0,checkReady()}catch(c){loadingStatus="Parsing error file is not valid.",updateLoader(),console.log(c)}}};b.open("GET",a,!0);b.send()}function checkReady(){mainCheck&&(drawVerkiezingen(),drawUpdateTime())}function redraw(){drawVerkiezingen()}
function escapeQuotes(a){a=a.replace(/{/g,"(");a=a.replace(/}/g,")");return a.replace(/\"/g,"'")}function updateLoader(){document.getElementById("faculteitenprogress").innerHTML='<h2>Loading<img src="img/ionicons/load-d.svg" width="30" alt="."/></h2><p>Downloading: '+loaded+"/"+toLoad+"</p><p>Parsing: "+parsed+"/"+toparse+"</p><p>Status: "+loadingStatus+"</p>"}
function drawVerkiezingen(){var a="";parsed=0;loadingStatus="parsing..";updateLoader();faculteiten=main.current;a+=drawFaculteiten(faculteiten);document.getElementById("faculteitenprogress").innerHTML=a}function drawUpdateTime(){var a;last_updated=main.last_updated;a="Laatste update: "+last_updated;document.getElementById("lastupdated").innerHTML=a}function drawFaculteiten(a){for(var b="",c=0;c<a.length;c++)b+=drawProgress(a[c]);return b+""}
function drawProgress(a){var b="",c=Math.round(a.votes/a.total*100);"Total"==a.faculteit&&(b+="<hr>");return b+='\n  <div class="row">\n  <h1 class="col-md-1">'+a.faculteit+'</h1>\n  <div class="col-md-11">\n    <div class="progress" style="height: 100px;">\n      <div class="progress-bar" role="progressbar" style="width: '+c+"%; background-color: "+a.bg_color+"; color: "+a.text_color+';" aria-valuenow="'+c+'" aria-valuemin="0" aria-valuemax="100"><h2>'+c+"% = "+a.votes+"/"+a.total+"</h2></div>\n    </div>\n  </div></div>"}
;
